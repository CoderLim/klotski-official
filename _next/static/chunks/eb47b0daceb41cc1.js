(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";e.s(["default",()=>I],31713);var t=e.i(52335),a=e.i(28842),l=e.i(42190);function s(e,t){return function(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];try{return t(...a)}catch(e){throw Error(void 0)}}}let r=s(0,l.useTranslations);s(0,l.useFormatter);var n=e.i(69754),i=e.i(75830);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let d=new class{async init(){if(this.initialized)return console.log("CrazyGames SDK already initialized"),!0;if(!this.isOnCrazyGames())return console.log("Not on CrazyGames platform, SDK disabled (local development)"),!1;try{var e,t;if(console.log("Initializing CrazyGames SDK v3..."),await this.waitForSDK(),null==(t=window.CrazyGames)||null==(e=t.SDK)?void 0:e.init)return await window.CrazyGames.SDK.init(),this.sdk=window.CrazyGames.SDK,this.initialized=!0,console.log("‚úÖ CrazyGames SDK v3 initialized successfully"),console.log("Environment:",this.sdk.environment),!0;throw Error("CrazyGames.SDK.init method not found")}catch(e){return console.error("‚ùå Failed to initialize CrazyGames SDK:",e),!1}}isOnCrazyGames(){let e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e||e.startsWith("192.168.")||e.startsWith("10."))return!1;let t=e.includes("crazygames.com")||e.includes("crazygames."),a=!!window.CrazyGames,l="undefined"!=typeof document?document.referrer.toLowerCase():"",s=l.includes("crazygames.com")||l.includes("crazygames.");return t||a&&s}waitForSDK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return new Promise((t,a)=>{let l=Date.now(),s=()=>{var r;(null==(r=window.CrazyGames)?void 0:r.SDK)?t():Date.now()-l>e?a(Error("SDK loading timeout")):setTimeout(s,100)};s()})}getEnvironment(){var e;return this.initialized?(null==(e=this.sdk)?void 0:e.environment)||"unknown":"disabled"}isInitialized(){return this.initialized}gameplayStart(){if(this.initialized&&this.isOnCrazyGames())try{var e,t;(null==(t=this.sdk)||null==(e=t.game)?void 0:e.gameplayStart)&&(console.log("CrazyGames: Gameplay started"),this.sdk.game.gameplayStart())}catch(e){console.warn("CrazyGames: Failed to trigger gameplayStart",e)}}gameplayStop(){if(this.initialized&&this.isOnCrazyGames())try{var e,t;(null==(t=this.sdk)||null==(e=t.game)?void 0:e.gameplayStop)&&(console.log("CrazyGames: Gameplay stopped"),this.sdk.game.gameplayStop())}catch(e){console.warn("CrazyGames: Failed to trigger gameplayStop",e)}}happytime(){if(!this.initialized||!this.isOnCrazyGames())return void console.log("CrazyGames: Happytime skipped (SDK not initialized or not on platform)");try{var e,t;(null==(t=this.sdk)||null==(e=t.game)?void 0:e.happytime)&&(console.log("CrazyGames: Happytime triggered"),this.sdk.game.happytime())}catch(e){console.warn("CrazyGames: Failed to trigger happytime",e)}}gameLoadingStart(){if(this.initialized&&this.isOnCrazyGames())try{var e,t;(null==(t=this.sdk)||null==(e=t.game)?void 0:e.loadingStart)&&(console.log("CrazyGames: Loading started"),this.sdk.game.loadingStart())}catch(e){console.warn("CrazyGames: Failed to trigger loadingStart",e)}}gameLoadingStop(){if(this.initialized&&this.isOnCrazyGames())try{var e,t;(null==(t=this.sdk)||null==(e=t.game)?void 0:e.loadingStop)&&(console.log("CrazyGames: Loading stopped"),this.sdk.game.loadingStop())}catch(e){console.warn("CrazyGames: Failed to trigger loadingStop",e)}}async requestMidgameAd(){var e,t;return!!(null==(t=this.sdk)||null==(e=t.ad)?void 0:e.requestAd)&&new Promise(e=>{this.sdk.ad.requestAd("midgame",{adStarted:()=>{console.log("Midgame ad started")},adFinished:()=>{console.log("Midgame ad finished"),e(!0)},adError:t=>{console.error("Midgame ad error:",t),e(!1)}})})}async requestRewardedAd(){var e,t;return!!(null==(t=this.sdk)||null==(e=t.ad)?void 0:e.requestAd)&&new Promise(e=>{this.sdk.ad.requestAd("rewarded",{adStarted:()=>{console.log("Rewarded ad started")},adFinished:()=>{console.log("Rewarded ad finished"),e(!0)},adError:t=>{console.error("Rewarded ad error:",t),e(!1)}})})}constructor(){o(this,"sdk",null),o(this,"initialized",!1)}};var c=e.i(67795),m=e.i(94276);let h=[{code:"en",name:"English",flag:"üá¨üáß"},{code:"zh",name:"‰∏≠Êñá",flag:"üá®üá≥"},{code:"ja",name:"Êó•Êú¨Ë™û",flag:"üáØüáµ"},{code:"es",name:"Espa√±ol",flag:"üá™üá∏"},{code:"pt",name:"Portugu√™s",flag:"üáµüáπ"},{code:"ko",name:"ÌïúÍµ≠Ïñ¥",flag:"üá∞üá∑"}];function u(){let{locale:e,setLocale:l}=(0,m.useLocaleContext)(),[s,r]=(0,a.useState)(!1),n=h.find(t=>t.code===e);return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>r(!s),className:"flex items-center justify-center bg-gray-800/80 hover:bg-gray-700/80 text-white w-10 h-10 rounded-lg border border-gray-600 transition-all shadow-lg","aria-label":"Current language: ".concat(null==n?void 0:n.name),children:(0,t.jsx)("span",{className:"text-2xl",children:null==n?void 0:n.flag})}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),(0,t.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-600 rounded-lg shadow-2xl z-50 overflow-hidden",children:h.map(a=>(0,t.jsxs)("button",{onClick:()=>{l(a.code),r(!1)},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-700 transition-colors text-left ".concat(e===a.code?"bg-gray-700 text-yellow-400":"text-white"),children:[(0,t.jsx)("span",{className:"text-xl",children:a.flag}),(0,t.jsx)("span",{className:"flex-1",children:a.name}),e===a.code&&(0,t.jsx)("span",{className:"text-yellow-400",children:"‚úì"})]},a.code))})]})]})}function x(){let e=r("hud"),{currentPuzzle:l,moves:s,startTime:o,elapsedTime:d,isWin:m,setElapsedTime:h}=(0,n.useGameStore)();if((0,a.useEffect)(()=>{if(!o||m)return;let e=setInterval(()=>{h(Math.floor((Date.now()-o)/1e3))},1e3);return()=>clearInterval(e)},[o,m,h]),!l)return null;let x=(0,i.getPuzzleIndex)(l.slug);return(0,t.jsx)("div",{className:"flex-[1] bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 border-l-2 border-yellow-500 shadow-lg flex flex-col h-full",children:(0,t.jsxs)("div",{className:"px-6 py-6 flex flex-col h-full",children:[(0,t.jsx)("div",{className:"flex justify-end mb-6",children:(0,t.jsx)(u,{})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-center gap-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-green-400 mb-2",children:e("levelNumber",{level:x})}),(0,t.jsx)("p",{className:"text-base text-gray-400",children:l.name})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-800/50 px-4 py-3 rounded-lg border border-gray-700",children:[(0,t.jsx)("span",{className:"text-2xl","aria-hidden":"true",children:"üë£"}),(0,t.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400 uppercase",children:e("moves")}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:s})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-800/50 px-4 py-3 rounded-lg border border-gray-700",children:[(0,t.jsx)("span",{className:"text-2xl","aria-hidden":"true",children:"‚è±Ô∏è"}),(0,t.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400 uppercase",children:e("time")}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white font-mono",children:(0,c.formatTime)(d)})]})]})]})]})]})})}var g=e.i(73005),f=e.i(66563);e.i(89039);var p=e.i(44981),y=e.i(55765),v=e.i(26298),b=e.i(45681),j=e.i(12064),w=a,N=e.i(19335);function C(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class z extends w.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,a=(0,j.isHTMLElement)(e)&&e.offsetWidth||0,l=this.props.sizeRef.current;l.height=t.offsetHeight||0,l.width=t.offsetWidth||0,l.top=t.offsetTop,l.left=t.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function k(e){let{children:l,isPresent:s,anchorX:r,root:n}=e,i=(0,w.useId)(),o=(0,w.useRef)(null),d=(0,w.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,w.useContext)(N.MotionConfigContext),m=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return a.useCallback(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{let a=!1,l=t.map(t=>{let l=C(t,e);return a||"function"!=typeof l||(a=!0),l});if(a)return()=>{for(let e=0;e<l.length;e++){let a=l[e];"function"==typeof a?a():C(t[e],null)}}}}(...t),t)}(o,null==l?void 0:l.ref);return(0,w.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:l,right:m}=d.current;if(s||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let h=document.createElement("style");c&&(h.nonce=c);let u=null!=n?n:document.head;return u.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===r?"left: ".concat(l):"right: ".concat(m),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{u.contains(h)&&u.removeChild(h)}},[s]),(0,t.jsx)(z,{isPresent:s,childRef:o,sizeRef:d,children:w.cloneElement(l,{ref:m})})}let S=e=>{let{children:l,initial:s,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:d,anchorX:c,root:m}=e,h=(0,y.useConstant)(E),u=(0,a.useId)(),x=!0,g=(0,a.useMemo)(()=>(x=!1,{id:u,initial:s,isPresent:r,custom:i,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;n&&n()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[r,h,n]);return o&&x&&(g={...g}),(0,a.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[r]),a.useEffect(()=>{r||h.size||!n||n()},[r]),"popLayout"===d&&(l=(0,t.jsx)(k,{isPresent:r,anchorX:c,root:m,children:l})),(0,t.jsx)(b.PresenceContext.Provider,{value:g,children:l})};function E(){return new Map}var G=e.i(61660);let R=e=>e.key||"";function D(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}let P=e=>{let{children:l,custom:s,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:o="sync",propagate:d=!1,anchorX:c="left",root:m}=e,[h,u]=(0,G.usePresence)(d),x=(0,a.useMemo)(()=>D(l),[l]),g=d&&!h?[]:x.map(R),f=(0,a.useRef)(!0),b=(0,a.useRef)(x),j=(0,y.useConstant)(()=>new Map),[w,N]=(0,a.useState)(x),[C,z]=(0,a.useState)(x);(0,v.useIsomorphicLayoutEffect)(()=>{f.current=!1,b.current=x;for(let e=0;e<C.length;e++){let t=R(C[e]);g.includes(t)?j.delete(t):!0!==j.get(t)&&j.set(t,!1)}},[C,g.length,g.join("-")]);let k=[];if(x!==w){let e=[...x];for(let t=0;t<C.length;t++){let a=C[t],l=R(a);g.includes(l)||(e.splice(t,0,a),k.push(a))}return"wait"===o&&k.length&&(e=k),z(D(e)),N(x),null}let{forceRender:E}=(0,a.useContext)(p.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:C.map(e=>{let a=R(e),l=(!d||!!h)&&(x===C||g.includes(a));return(0,t.jsx)(S,{isPresent:l,initial:(!f.current||!!r)&&void 0,custom:s,presenceAffectsLayout:i,mode:o,root:m,onExitComplete:l?void 0:()=>{if(!j.has(a))return;j.set(a,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(null==E||E(),z(b.current),d&&(null==u||u()),n&&n())},anchorX:c,children:e},a)})})};function K(e){let{isOpen:l,onClose:s,children:r,title:n}=e;return(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&l&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[l,s]),(0,t.jsx)(P,{children:l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-40",onClick:s,"aria-hidden":"true"}),(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(f.motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.3},className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl shadow-2xl max-w-md w-full border-2 border-gray-700",role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,onClick:e=>e.stopPropagation(),children:[n&&(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-700",children:(0,t.jsx)("h2",{id:"modal-title",className:"text-2xl font-bold text-white",children:n})}),(0,t.jsx)("div",{className:"p-6",children:r})]})})]})})}function L(e){let{isOpen:a,onClose:l}=e,s=r("help");return(0,t.jsx)(K,{isOpen:a,onClose:l,title:s("title"),children:(0,t.jsxs)("div",{className:"text-gray-200 space-y-4",children:[(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-yellow-400 mb-2",children:["üéØ ",s("goal")]}),(0,t.jsx)("p",{className:"text-sm leading-relaxed",children:s("goalDescription")})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-yellow-400 mb-2",children:["üéÆ ",s("controls")]}),(0,t.jsxs)("ul",{className:"text-sm space-y-2",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white",children:s("controlsMouse")})," ",s("controlsMouseDesc")]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white",children:s("controlsKeyboard")}),(0,t.jsxs)("ul",{className:"ml-4 mt-1 space-y-1",children:[(0,t.jsxs)("li",{children:["‚Ä¢ ",s("controlsKeyboardTab")]}),(0,t.jsxs)("li",{children:["‚Ä¢ ",s("controlsKeyboardArrow")]}),(0,t.jsxs)("li",{children:["‚Ä¢ ",s("controlsKeyboardEnter")]})]})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-yellow-400 mb-2",children:["‚å®Ô∏è ",s("shortcuts")]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"U"}),(0,t.jsx)("span",{className:"ml-2",children:s("shortcutUndo")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"R"}),(0,t.jsx)("span",{className:"ml-2",children:s("shortcutRedo")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"Ctrl+R"}),(0,t.jsx)("span",{className:"ml-2",children:s("shortcutReset")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"ESC"}),(0,t.jsx)("span",{className:"ml-2",children:s("shortcutClose")})]})]})]}),(0,t.jsx)("button",{onClick:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors mt-4","aria-label":s("gotIt"),children:s("gotIt")})]})})}function M(e){let{isOpen:a,onClose:l,onConfirm:s,title:r,message:n,confirmText:i,cancelText:o}=e;return(0,t.jsx)(K,{isOpen:a,onClose:l,title:r,children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("p",{className:"text-gray-300 text-lg leading-relaxed",children:n}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,t.jsx)("button",{onClick:l,className:"px-6 py-2.5 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-semibold transition-all transform hover:scale-105 active:scale-95 shadow-lg",children:o}),(0,t.jsx)("button",{onClick:()=>{s(),l()},className:"px-6 py-2.5 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-semibold transition-all transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-orange-500/50",children:i})]})]})})}function A(){let e=r("controls"),{canUndo:l,canRedo:s,undo:i,redo:o,reset:d}=(0,n.useGameStore)(),[c,m]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-gray-900/80 border-t-2 border-gray-700 shadow-lg",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-3",children:(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,t.jsxs)("button",{onClick:i,disabled:!l(),className:"px-4 py-2 rounded-lg font-semibold transition-all transform hover:scale-105 active:scale-95 ".concat(l()?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-blue-500/50":"bg-gray-700 text-gray-500 cursor-not-allowed"),"aria-label":"".concat(e("undo")," (U)"),title:"".concat(e("undo")," (U)"),children:["‚Ü∂ ",e("undo")]}),(0,t.jsxs)("button",{onClick:o,disabled:!s(),className:"px-4 py-2 rounded-lg font-semibold transition-all transform hover:scale-105 active:scale-95 ".concat(s()?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-blue-500/50":"bg-gray-700 text-gray-500 cursor-not-allowed"),"aria-label":"".concat(e("redo")," (R)"),title:"".concat(e("redo")," (R)"),children:["‚Ü∑ ",e("redo")]}),(0,t.jsxs)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-semibold transition-all transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-orange-500/50","aria-label":e("reset"),title:"".concat(e("reset")," (Ctrl+R)"),children:["üîÑ ",e("reset")]}),(0,t.jsxs)("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-all transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-purple-500/50","aria-label":e("help"),children:["‚ùì ",e("help")]})]})})}),(0,t.jsx)(L,{isOpen:c,onClose:()=>m(!1)}),(0,t.jsx)(M,{isOpen:h,onClose:()=>u(!1),onConfirm:()=>{d()},title:e("reset"),message:e("resetConfirm"),confirmText:e("reset"),cancelText:e("cancel")})]})}function T(e){let{isOpen:a,onClose:l,moves:s,time:n,currentSlug:o,onRestart:d,onNextLevel:m}=e,h=r("win"),u=(0,i.getAllPuzzles)(),x=u.findIndex(e=>e.slug===o),g=x<u.length-1?u[x+1]:null;return(0,t.jsx)(K,{isOpen:a,onClose:l,children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"text-8xl animate-bounce",children:"üéâ"})}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:h("title")}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:h("moves")}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:s})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:h("time")}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:(0,c.formatTime)(n)})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:d,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all transform hover:scale-105 active:scale-95","aria-label":h("playAgain"),children:h("playAgain")}),g&&(0,t.jsxs)("button",{onClick:()=>{g&&m&&m()},className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-all transform hover:scale-105 active:scale-95","aria-label":h("nextLevel"),children:[h("nextLevel")," ‚Üí"]})]})]})})}let F=["#EF4444","#F59E0B","#3B82F6","#10B981","#8B5CF6","#EC4899"];function O(e){let{show:l}=e,[s,r]=(0,a.useState)([]);return((0,a.useEffect)(()=>{if(l){r(Array.from({length:50},(e,t)=>({id:t,x:100*Math.random(),y:-10,color:F[Math.floor(Math.random()*F.length)],rotation:360*Math.random(),scale:.5+.5*Math.random()})));let e=setTimeout(()=>{r([])},3e3);return()=>clearTimeout(e)}},[l]),l&&0!==s.length)?(0,t.jsx)("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:s.map(e=>(0,t.jsx)(f.motion.div,{initial:{x:"".concat(e.x,"vw"),y:"-10vh",rotate:e.rotation,scale:e.scale,opacity:1},animate:{x:"".concat(e.x+(Math.random()-.5)*20,"vw"),y:"110vh",rotate:e.rotation+360*(Math.random()>.5?1:-1),opacity:0},transition:{duration:2+ +Math.random(),ease:"linear"},className:"absolute w-3 h-3 rounded-sm",style:{backgroundColor:e.color}},e.id))}):null}function I(){let e=r("controls"),{loadPuzzle:l,currentPuzzle:s,isWin:o,moves:c,elapsedTime:m,reset:h,undo:u,redo:f}=(0,n.useGameStore)(),[p,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{d.init().then(e=>{e&&(d.gameLoadingStop(),d.gameplayStart())})},[]),(0,a.useEffect)(()=>{let e=(0,i.getAllPuzzles)();e.length>0&&!s&&l(e[0].slug)},[l,s]),(0,a.useEffect)(()=>{o&&!p&&(y(!0),d.happytime())},[o,p]),(0,a.useEffect)(()=>{let e=e=>{let t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName)switch(e.key.toLowerCase()){case"u":e.preventDefault(),u();break;case"r":e.ctrlKey||e.metaKey?(e.preventDefault(),b(!0)):(e.preventDefault(),f())}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[u,f,e]),s)?(0,t.jsxs)("div",{className:"h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex-1 md:flex-[3] flex flex-col overflow-hidden",children:[(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center overflow-hidden",children:(0,t.jsx)(g.default,{})}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(A,{})})]}),(0,t.jsx)("div",{className:"hidden md:block md:flex-[1]",children:(0,t.jsx)(x,{})}),(0,t.jsx)(T,{isOpen:p,onClose:()=>y(!1),moves:c,time:m,currentSlug:s.slug,onRestart:()=>{y(!1),h()},onNextLevel:()=>{let e=(0,i.getAllPuzzles)(),t=e.findIndex(e=>e.slug===(null==s?void 0:s.slug)),a=t<e.length-1?e[t+1]:null;a&&(y(!1),l(a.slug))}}),(0,t.jsx)(O,{show:o}),(0,t.jsx)(M,{isOpen:v,onClose:()=>b(!1),onConfirm:h,title:e("reset"),message:e("resetConfirm"),confirmText:e("reset"),cancelText:e("cancel")})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-white text-2xl",children:"Loading..."})})}}]);